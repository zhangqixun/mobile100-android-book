# Android6.0 App Links功能分析（1501211014 闫森）
#摘要
在上次的I/O大会上，谷歌宣布了Android M支持app链接（App Links），谷歌正在不遗余力的推动深度链接（deep linking）。这将对Android M的用户体验造成深远的积极影响，用户点击一个web链接就能直接跳转到app。

#1 什么是App Links？
谷歌的App Link让用户在点击一个普通web链接的时候可以打开指定app的指定页面，前提是这个app已经安装并且经过了验证，否则会显示一个打开选项的弹出框。自此，在安卓中打开一个链接的用户体验大大提高，用户可以在链接与app之间快速切换。

在Android M之前，点击一个链接会产生一个弹出框，询问用户打开哪个应用－包括浏览器应用。但是谷歌在Android M实现了一个自动认证（auto-verify）机制，让开发者可以避开这个弹出框，使用户不必去选择一个列表，直接跳转到他们的app。在以往应用强制打开某些其他应用和链接的情况在Android M中也会有所改善，新的App Links应用连接管理允许你方便地管理应用的启动URL，流氓应用突然弹到广告页面的情况将会随这个功能的出现而有所改善。

![](ys-1.png)

在app的manifest中添加 auto-verify（左边）并且在web服务器上添加一个statements JSON 文件（右边）就可以让你的web链接打开一个app。（statements JSON 文件即一个叫statements.json的文件，后面会提到）

比如，点击谷歌关于食谱的移动搜索结果或者一个别人发来的食谱链接会直接导航你到与该链接域名相关的app的食谱页面。

![](ys-2.png)

点击一条推特的web链接会直接带你到Twitter应用的相关推文页面。演示时以 Twitter url 为例，可以自动识别 url，点击就可自动打开对应的 app，其实 app 间的平行无缝切换，Android 一直就比其他平台都做得好。而这次的更新又可以使 App 间以及 App 与 Web 的联动表现得更加流畅了，通过 链接实现 app 与 Web 间的无缝切换形成的任务流更加连贯，只是不知道一向水火不容的国内某些厂商能不能把这样的特性加入到自己的 app 中？不过这个特性也给产品设计师们提供了更多使用场景的设想，也是一个为自己 App 带入流量的新途径。

web链接可以在任意地方发送，发布，或者打开，因为他们就是普通的链接，而且如果出现了什么错误，则会像平常一样用浏览器打开这个web页面。

#2 处理应用程序链接（App links）
用户在设备上跟随网络链接经常呈现混乱的选择。打开一个链接通常会导致系统询问用户应该选择哪个应用程序来处理这个链接。例如，点击一个来自银行的电子邮件里面的URI可能导致出现一个对话框询问用户是否使用浏览器，或银行的自己的应用程序来打开该链接。Android 6.0（API level 23）和其更高版本允许应用程序将自身指定为特定类型的链路的默认处理程序。如果用户不希望该应用作为默认处理程序，他们可以在设置里覆盖此行为 。
##2.1 创建验证的应用程序链接一般步骤
自动处理环节需要应用程序开发人员和网站所有者的合作。开发人员必须配置他们的应用程序来声明与一个或多个网站的联系，并要求该系统验证这些关联。一个网站所有者必须反过来，通过发布提供验证数字资产链接（Digital Asset Links)文件。用于创建验证的应用程序链接的一般步骤如下：

**在您的应用程序清单，创建意图过滤器为您的网站的URI。**

**配置您的应用程序请求验证的应用程序的链接。**

**发布你的网站数字资产链接JSON文件来提供验证。**


