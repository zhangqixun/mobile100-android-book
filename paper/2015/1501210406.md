# 剖析Android中的Context类(1501210406 叶振旭)

在开发中，我们经常与Context进行打交道，然而，我们对它内部的原理、类结构关系却是“丈二和尚，摸不着头脑”。因此，它可谓是我们最熟悉的陌生人了。下面，我就试着揭开Context神秘的面纱。


# 一、Android中我们经常接触到Context的场景
1）在应用Tosat中，我们经常这样写：
Toast.makeText(MainActivity.this,”You clicked a button”, Toast.LENGTH_SHORT).show();
可以看到第一个参数就是Context，也就是Toast要求的上下文，由于活动本身就是一个Context对象，因此，直接传入MainActivity.this即可。

2）想实现从一个活动中跳转到其他活动，我们经常这样写：
Intent intent=new Intent( FirstActivity.this , SecondActivity.class)；
这个Intent的构造函数接收两个参数，第一个参数就是Context，即启动活动的上下文，第二个参数Class则是指定要跳转的目标活动。

3）发送一则广播时，我们经常这样写：
Intent intent=new Intent(“com.example.my_broadcast”);
context.sendBroadcast(intent); 
首先构建出一个Intent对象，把要发送的广播的值传入，然后调用Context类的sendBroadcast()方法将广播发送出去，这样监听com.example.my_broadcast这条广播的广播接收器就会收到信息。

4）接收一则广播时，我们经常这样写：
Public class my_broadcastReceiver extends BroadcastReceiver
{
 @Override
 Public void onReceiver(Context context ,Intent intent)
 { 
//这里你可以进行接收到广播后的行为。如简单显示已经接收到了广播。
   Toast.makeText(context, ”已经成功接收到广播了”, Toast.LENGTH_SHORT).show();
}
}
可以看到，这里onReceiver()方法的第一个参数便是context。

5）使用SharedPreferences存储数据。我们经常这样写：
SharedPreferences.Editor editor=getSharedPreferences(“data”,MODE_PRIVATE).edit();
editor.putString(“name”, “yezhenxu”);
editor.putInt(“age”, ”23”);
……
editor.commit();
通过Context类下的getSharedPreference()方法指定SharedPreference的文件名为data，并得当SharedPreferences.Editor对象，然后往editor添加数据,最后调用commit()方法进行提交，从而完成了数据存储的操作。
……

Context 就是用于获得系统资源的，我们所说的系统资源包括设备本身的信息，也有开发者提供的信息（类、包、资源文件等等……）。


# 二、Context是什么


## 2.1 SDK中对其说明如下：

1）Interface to global information about an application environment. 
它描述的是一个应用程序环境的信息，即上下文。

2）This is an abstract class whose implementation is provided by the Android system.
该类是一个抽象类(abstract class)，Android提供了该抽象类的具体实现类。

3）It allows access to application-specific resources and classes, as well as up-calls for application-level operations such as launching activities, broadcasting and receiving intents, etc.
通过它我们可以获取应用程序的资源和类，也包括一些应用级别操作，例如：启动一个Activity，发送广播，接受Intent信息等。


